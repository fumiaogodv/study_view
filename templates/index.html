<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <title>æˆ‘çš„å­¦ä¹ ç©ºé—´</title>

<link rel="icon" type="image/png" href="{{ url_for('static', filename='favicon/favicon-96x96.png') }}" sizes="96x96" />
<link rel="icon" type="image/svg+xml" href="{{ url_for('static', filename='favicon/favicon.svg') }}" />
<link rel="shortcut icon" href="{{ url_for('static', filename='favicon/favicon.ico') }}" />
<link rel="apple-touch-icon" sizes="180x180" href="{{ url_for('static', filename='favicon/apple-touch-icon.png') }}" />
<link rel="manifest" href="{{ url_for('static', filename='favicon/site.webmanifest') }}" />


    <link rel="stylesheet" href="/static/css/index.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
<style>
    /* å®šä¹‰æœ‰è®°å½•æ—¥æœŸçš„æ ·å¼ï¼šå¸¦ä¸€ä¸ªç»¿è‰²çš„å°åœ†ç‚¹ */
    .has-record {
        background: rgba(76, 175, 80, 0.3) !important;
        border-radius: 50% !important;
        font-weight: bold;
    }
</style>

</head>
<script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
<body>

    <button class="toggle-btn" id="btn-calendar-toggle" onclick="togglePanel('calendar-panel')">ğŸ“…</button>

<div class="glass-panel history-section" id="calendar-panel">
    <h3 style="margin-top:0">å­¦ä¹ å†å²</h3>
    <input type="text" id="calendarPicker"> </div>

   <div id="bg-container">
    <video id="bg-video" autoplay muted loop playsinline>
        <source id="video-source" src="/static/videos/nature.mp4" type="video/mp4">
    </video>
</div>

<button class="toggle-btn" id="btn-next-bg" onclick="nextBackground()" style="bottom: 20px; left: 20px;" title="åˆ‡æ¢èƒŒæ™¯">ğŸ–¼ï¸</button>

    <button class="toggle-btn" id="btn-timer-toggle" onclick="togglePanel('timer-panel')">â±ï¸</button>
    <button class="toggle-btn" id="btn-task-toggle" onclick="togglePanel('task-panel')">ğŸ“</button>

    <div class="glass-panel timer-section" id="timer-panel">
        <h2>ä¸“æ³¨æ—¶é’Ÿ</h2>
        <div class="timer-display" id="display">00:00</div>

        <input type="text" id="taskName" placeholder="ç°åœ¨è¦å­¦ç‚¹ä»€ä¹ˆï¼Ÿ" value="é«˜ç­‰æ•°å­¦">
        <textarea id="note" placeholder="å¤‡æ³¨ (å¯é€‰)"></textarea>

        <button class="action-btn" onclick="handleTimerClick()" id="startBtn">å¼€å§‹å­¦ä¹ </button>
    </div>

    <button class="toggle-btn" id="btn-music-toggle" onclick="togglePanel('music-panel')" style="bottom: 20px; right: 80px;">ğŸµ</button>

<div class="glass-panel music-section" id="music-panel">
    <div class="player-container">
        <div class="current-info">
            <img src="static/cover/default.png" class="album-cover" id="music-cover">
            <div class="song-details">
                <h4 id="song-title">ç­‰å¾…æ’­æ”¾...</h4>
                <p id="song-artist">æœ¬åœ°éŸ³ä¹</p>
            </div>
        </div>

        <div class="progress-area">
            <input type="range" id="progress" value="0" max="100">
            <div class="time-stamp">
                <span id="current-time">00:00</span>
                <span id="total-time">00:00</span>
            </div>
        </div>

        <div class="player-controls">
    <button onclick="togglePlayMode()" id="play-mode-btn" title="é¡ºåºæ’­æ”¾">ğŸ”</button>
    <button onclick="prevMusic()">â®</button>
    <button onclick="togglePlay()" id="play-pause">â–¶</button>
    <button onclick="nextMusic()">â­</button>

    <div class="volume-group">
        <button id="mute-btn" style="font-size: 1.2em;">ğŸ”Š</button>
        <div class="volume-slider-container">
            <input type="range" id="volume-slider" min="0" max="1" step="0.05" value="0.8">
        </div>
    </div>
</div>

        <div class="player-controls">
            </div>

        <div class="music-list record-container"  id="music-list-container" >
            </div>
    </div>
</div>

    </div>
</div>

<audio id="main-audio" src=""></audio>


<div class="glass-panel task-detail-section" id="task-panel">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; padding: 0 5px;">
        <h3 style="margin: 0; display: flex; align-items: center; gap: 8px;">
            <span>ğŸ“Š</span> ä»»åŠ¡æ˜ç»†
        </h3>

        <button onclick="handleManualAdd()" class="add-btn-new">
            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                <line x1="12" y1="5" x2="12" y2="19"></line>
                <line x1="5" y1="12" x2="19" y2="12"></line>
            </svg>
        </button>
    </div>

    <div id="recordList" class="record-container">
        </div>
</div>

    <script src="/static/js/index.js"></script>

<button class="toggle-btn" id="btn-fullscreen" onclick="toggleFullScreen()" style="top: 20px; right: 80px;" title="å…¨å±æ¨¡å¼">
    â›¶
</button>

</body>
</html>